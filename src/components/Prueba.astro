---
import RedirectLinkIcon from "./icons/RedirectLinkIcon.astro";
---

<input
    type="search"
    placeholder="Buscar..."
    class="text-black bg-white pl-2 rounded-sm w-2/4 py-2 px-2 border-2 border-black"
    id="search-input"
/>

<section id="cards-container">

    <article class="w-80 border-black border-2 p-4 m-11 card">
        <div class="flex justify-between mx-4 mb-4">
            <span class="card-title font-semibold cursor-pointer">The stocks</span>
            <a href="">
                <RedirectLinkIcon slot="slot-link" class="hover:scale-125 duration-300" />
            </a>
        </div>
    
        <div class="mb-4 hover:scale-105 ease-in-out duration-300 cursor-pointer">
            <img
                src="../public/img/paginas/the-stocks.png"
                alt="Verifique su conexión a internet"
                slot="slot-img"
                class="rounded-md"
            />
        </div>
    
        <p class="card-text">the stocks</p>
    </article>
    
    <article class="w-80 border-black border-2 p-4 m-11 card">
        <div class="flex justify-between mx-4 mb-4">
            <span class="card-title font-semibold cursor-pointer">The stocks</span>
            <a href="">
                <RedirectLinkIcon slot="slot-link" class="hover:scale-125 duration-300" />
            </a>
        </div>
    
        <div class="mb-4 hover:scale-105 ease-in-out duration-300 cursor-pointer">
            <img
                src="../public/img/paginas/the-stocks.png"
                alt="Verifique su conexión a internet"
                slot="slot-img"
                class="rounded-md"
            />
        </div>
    
        <p class="card-text">the stocks</p>
    </article>
    
    <article class="w-80 border-black border-2 p-4 m-11 card">
        <div class="flex justify-between mx-4 mb-4">
            <span class="card-title font-semibold cursor-pointer">The stocks</span>
            <a href="">
                <RedirectLinkIcon slot="slot-link" class="hover:scale-125 duration-300" />
            </a>
        </div>
    
        <div class="mb-4 hover:scale-105 ease-in-out duration-300 cursor-pointer">
            <img
                src="../public/img/paginas/the-stocks.png"
                alt="Verifique su conexión a internet"
                slot="slot-img"
                class="rounded-md"
            />
        </div>
    
        <p class="card-text">imagnes</p>
    </article>
    
    

</section>

<script type="module">
   document.addEventListener("keyup", (e) => {
    const searchInput = document.getElementById("search-input");
    if (e.target === searchInput) {
        const searchTerm = e.target.value.toLowerCase();

        document.querySelectorAll(".card").forEach((card) => {
            const title = card.querySelector(".card-title")?.textContent || "";
            const text = card.querySelector(".card-text")?.textContent || "";

            if (title.toLowerCase().includes(searchTerm) || text.toLowerCase().includes(searchTerm)) {
                card.classList.remove("filter");
            } else {
                card.classList.add("filter");
            }
        });
    }
});

</script>

<style>
    .filter {
        display: none;
    }


    .card{
        background-image: url(../public/img/fondo-cards-white.png);
        color: black;
    }
</style>
